import{s as d}from"./e1619f58.js";/* empty css        *//* empty css        *//* empty css        *//* empty css        */import{a as l,t as S,y as V,o as v,u as y}from"./431e6e02.js";import{H as E,r as w,d as x,l as C,m as T,V as t,P as s,T as m,p as k}from"./95bbca75.js";const i={getSettingsList(){return d({url:"/settings/list",method:"GET"})},editSettings(r){return d({url:"/settings/edit",method:"POST",data:r})}},B={style:{"margin-top":"20px","text-align":"right"}},z=E({__name:"Settings",setup(r){const n=w([]),p=async()=>{const e=await i.getSettingsList();e.status===200&&(n.value=e.data.data)},_=async e=>{(await i.editSettings([e])).status===200?l.success("保存成功"):l.error("保存失败")},g=async()=>{(await i.editSettings(n.value)).status===200?l.success("全部保存成功"):l.error("保存失败")};return x(()=>{p()}),(e,f)=>{const o=S,b=V,c=v,h=y;return C(),T("div",null,[t(h,{data:n.value,style:{width:"100%"}},{default:s(()=>[t(o,{prop:"Name",label:"设置项",width:"200"}),t(o,{label:"值"},{default:s(({row:a})=>[t(b,{modelValue:a.Value,"onUpdate:modelValue":u=>a.Value=u,placeholder:"请输入值",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(o,{label:"操作",width:"150"},{default:s(({row:a})=>[t(c,{type:"primary",size:"small",onClick:u=>_(a)},{default:s(()=>[m(" 保存 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),k("div",B,[t(c,{type:"success",onClick:g},{default:s(()=>[m("保存全部")]),_:1})])])}}});export{z as default};
