import"./e1619f58.js";/* empty css        *//* empty css        *//* empty css        *//* empty css        *//* empty css        *//* empty css        *//* empty css        */import{C as m}from"./e021e21f.js";import{H as z,r as w,_ as B,aB as D,d as T,l as k,m as $,V as a,P as o,T as u,U as I,O as y,S as b,p as V}from"./95bbca75.js";import{a as r,o as O,t as h,r as F,u as L,y as M,x as q,z as H,p as R}from"./431e6e02.js";const j=V("br",null,null,-1),G=V("br",null,null,-1),ne=z({__name:"ClientSocks5",setup(J){const _=w(!1),S=w([]),l=B({connectAddress:"",socks5port:"",username:"",password:""}),c=D().query.uid,n=async()=>{const t=await m.getSocks5List({uid:c});t.status===200&&(S.value=t.data.data)},x=async()=>{const t=await m.startSocks5({Password:l.password,Socks5port:l.socks5port,UserName:l.username,uid:c,ConnectAddress:l.connectAddress});t.status===200&&(t.data.status===200?(r.success("添加成功"),await n()):(await n(),r.error(t.data.data))),_.value=!1},U=async t=>{const e=await m.CloseSocks5({Password:t.Password,Socks5port:t.Socks5port,UserName:t.UserName,uid:c,ConnectAddress:t.ConnectAddress});e.status===200&&(e.data.status===200?(r.success("关闭成功"),await n()):(await n(),r.error(e.data.data)))},A=async t=>{const e=await m.OpenSocks5({Password:t.Password,Socks5port:t.Socks5port,UserName:t.UserName,uid:c,ConnectAddress:t.ConnectAddress});e.status===200&&(e.data.status===200?(r.success("开启成功"),await n()):(await n(),r.error(e.data.data)))},v=async t=>{const e=await m.DeleteSocks5({Password:t.Password,Socks5port:t.Socks5port,UserName:t.UserName,uid:c,ConnectAddress:t.ConnectAddress});e.status===200&&(e.data.status===200?(r.success("删除成功"),await n()):(await n(),r.error(e.data.data)))};return T(async()=>{await n()}),(t,e)=>{const p=O,d=h,N=F,g=L,f=M,i=q,E=H,P=R;return k(),$("div",null,[a(p,{type:"primary",size:"default",onClick:e[0]||(e[0]=s=>_.value=!0)},{default:o(()=>[u(" 新增Socks5代理 ")]),_:1}),j,G,a(g,{data:S.value},{default:o(()=>[a(d,{prop:"Type",label:"类型"}),a(d,{prop:"ConnectAddress",label:"回连地址"}),a(d,{prop:"Socks5port",label:"Socks5端口"}),a(d,{prop:"UserName",label:"用户名"}),a(d,{prop:"Password",label:"密码"}),a(d,{label:"状态",prop:"Status"},{default:o(({row:s})=>[a(N,{type:s.Status===1?"success":"danger",size:"default"},{default:o(()=>[u(I(s.Status===1?"开启":"关闭"),1)]),_:2},1032,["type"])]),_:1}),a(d,{label:"操作"},{default:o(s=>[s.row.Status===2?(k(),y(p,{key:0,size:"small",type:"success",onClick:C=>A(s.row)},{default:o(()=>[u("开启")]),_:2},1032,["onClick"])):b("",!0),s.row.Status===1?(k(),y(p,{key:1,size:"small",type:"primary",onClick:C=>U(s.row)},{default:o(()=>[u("关闭")]),_:2},1032,["onClick"])):b("",!0),a(p,{size:"small",type:"danger",onClick:C=>v(s.row)},{default:o(()=>[u("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(P,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=s=>_.value=s),title:"新增Socks5代理",width:"500px"},{default:o(()=>[a(E,{model:l,"label-width":"120px"},{default:o(()=>[a(i,{label:"外网回连地址"},{default:o(()=>[a(f,{modelValue:l.connectAddress,"onUpdate:modelValue":e[1]||(e[1]=s=>l.connectAddress=s),placeholder:"外网回连地址（xxx.xxx.xxx.xxx:9999)"},null,8,["modelValue","placeholder"])]),_:1}),a(i,{label:"Socks5端口"},{default:o(()=>[a(f,{modelValue:l.socks5port,"onUpdate:modelValue":e[2]||(e[2]=s=>l.socks5port=s),placeholder:"20000"},null,8,["modelValue"])]),_:1}),a(i,{label:"用户名"},{default:o(()=>[a(f,{modelValue:l.username,"onUpdate:modelValue":e[3]||(e[3]=s=>l.username=s),placeholder:""},null,8,["modelValue"])]),_:1}),a(i,{label:"密码"},{default:o(()=>[a(f,{modelValue:l.password,"onUpdate:modelValue":e[4]||(e[4]=s=>l.password=s),placeholder:""},null,8,["modelValue"])]),_:1}),a(i,null,{default:o(()=>[a(p,{type:"primary",onClick:x},{default:o(()=>[u("添加")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{ne as default};
