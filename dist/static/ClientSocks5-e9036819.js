import"./index-4c9f4e4c.js";/* empty css                  *//* empty css                   *//* empty css                     *//* empty css                 *//* empty css                 *//* empty css                    *//* empty css               */import{C as m}from"./index-a21d15d0.js";import{H as z,r as y,_ as B,aB as D,d as T,l as k,m as $,V as e,P as o,T as r,U as I,O as b,S as V,p as w}from"./vue-95bbca75.js";import{a as f,o as O,t as h,r as F,u as L,y as M,x as q,z as H,p as R}from"./element-61b2a7f7.js";const j=w("br",null,null,-1),G=w("br",null,null,-1),ne=z({__name:"ClientSocks5",setup(J){const i=y(!1),S=y([]),l=B({connectAddress:"",socks5port:"",username:"",password:""}),d=D().query.uid,u=async()=>{const t=await m.getSocks5List({uid:d});t.status===200&&(S.value=t.data.data)},x=async()=>{(await m.startSocks5({Password:l.password,Socks5port:l.socks5port,UserName:l.username,uid:d,ConnectAddress:l.connectAddress})).status===200&&(f.success("添加成功"),await u()),i.value=!1},U=async t=>{const s=await m.CloseSocks5({Password:t.Password,Socks5port:t.Socks5port,UserName:t.UserName,uid:d,ConnectAddress:t.ConnectAddress});s.status===200&&s.data.status===200&&(f.success("关闭成功"),await u())},A=async t=>{const s=await m.OpenSocks5({Password:t.Password,Socks5port:t.Socks5port,UserName:t.UserName,uid:d,ConnectAddress:t.ConnectAddress});s.status===200&&s.data.status===200&&(f.success("开启成功"),await u())},v=async t=>{const s=await m.DeleteSocks5({Password:t.Password,Socks5port:t.Socks5port,UserName:t.UserName,uid:d,ConnectAddress:t.ConnectAddress});s.status===200&&s.data.status===200&&(f.success("删除成功"),await u())};return T(async()=>{await u()}),(t,s)=>{const c=O,n=h,N=F,g=L,_=M,p=q,E=H,P=R;return k(),$("div",null,[e(c,{type:"primary",size:"default",onClick:s[0]||(s[0]=a=>i.value=!0)},{default:o(()=>[r(" 新增Socks5代理 ")]),_:1}),j,G,e(g,{data:S.value},{default:o(()=>[e(n,{prop:"Type",label:"类型"}),e(n,{prop:"ConnectAddress",label:"回连地址"}),e(n,{prop:"Socks5port",label:"Socks5端口"}),e(n,{prop:"UserName",label:"用户名"}),e(n,{prop:"Password",label:"密码"}),e(n,{label:"状态",prop:"Status"},{default:o(({row:a})=>[e(N,{type:a.Status===1?"success":"danger",size:"default"},{default:o(()=>[r(I(a.Status===1?"开启":"关闭"),1)]),_:2},1032,["type"])]),_:1}),e(n,{label:"操作"},{default:o(a=>[a.row.Status===2?(k(),b(c,{key:0,size:"small",type:"success",onClick:C=>A(a.row)},{default:o(()=>[r("开启")]),_:2},1032,["onClick"])):V("",!0),a.row.Status===1?(k(),b(c,{key:1,size:"small",type:"primary",onClick:C=>U(a.row)},{default:o(()=>[r("关闭")]),_:2},1032,["onClick"])):V("",!0),e(c,{size:"small",type:"danger",onClick:C=>v(a.row)},{default:o(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(P,{modelValue:i.value,"onUpdate:modelValue":s[5]||(s[5]=a=>i.value=a),title:"新增Socks5代理",width:"500px"},{default:o(()=>[e(E,{model:l,"label-width":"120px"},{default:o(()=>[e(p,{label:"外网回连地址"},{default:o(()=>[e(_,{modelValue:l.connectAddress,"onUpdate:modelValue":s[1]||(s[1]=a=>l.connectAddress=a),placeholder:"外网回连地址（xxx.xxx.xxx.xxx:9999)"},null,8,["modelValue","placeholder"])]),_:1}),e(p,{label:"Socks5端口"},{default:o(()=>[e(_,{modelValue:l.socks5port,"onUpdate:modelValue":s[2]||(s[2]=a=>l.socks5port=a),placeholder:"20000"},null,8,["modelValue"])]),_:1}),e(p,{label:"用户名"},{default:o(()=>[e(_,{modelValue:l.username,"onUpdate:modelValue":s[3]||(s[3]=a=>l.username=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(p,{label:"密码"},{default:o(()=>[e(_,{modelValue:l.password,"onUpdate:modelValue":s[4]||(s[4]=a=>l.password=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(p,null,{default:o(()=>[e(c,{type:"primary",onClick:x},{default:o(()=>[r("添加")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{ne as default};
